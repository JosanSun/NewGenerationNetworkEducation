define("common:widget/lib/tangram/fx/current/current.js",function(e,t,n){var r=e("common:widget/lib/tangram/base/base.js");e("common:widget/lib/tangram/fx/fx.js"),r.fx.current=function(e){if(!(e=r.dom.g(e)))return null;var t,n,i=/\|([^\|]+)\|/g;do if(n=e.getAttribute("baidu_current_effect"))break;while((e=e.parentNode)&&1==e.nodeType);if(!n)return null;if(t=n.match(i)){i=/\|([^\|]+)\|/;for(var a=0;a<t.length;a++)i.test(t[a]),t[a]=window[r.guid]._instances[RegExp.$1]}return t},n.exports=r.fx.current});
;define("common:widget/lib/tangram/ui/Carousel/Carousel.js",function(e,t,n){var i=e("common:widget/lib/tangram/base/base.js");e("common:widget/lib/tangram/uiBase/uiBase.js"),i.ui.Carousel=i.ui.createUI(function(){var e=this,t=e.contentText||[];e._dataList=t.slice(0,t.length),e._itemIds=[],e._items={},e.flip=e.flip.toLowerCase(),e.orientation=e.orientation.toLowerCase()}).extend({uiType:"carousel",orientation:"horizontal",flip:"item",pageSize:3,scrollIndex:0,_axis:{horizontal:{vector:"_boundX",pos:"left",size:"width",offset:"offsetWidth",client:"clientWidth",scrollPos:"scrollLeft"},vertical:{vector:"_boundY",pos:"top",size:"height",offset:"offsetHeight",client:"clientHeight",scrollPos:"scrollTop"}},getString:function(){var e=this,t='<div id="#{id}" class="#{class}">#{content}</div>',n=i.string.format(t,{id:e.getId("scroll"),"class":e.getClass("scroll")});return i.string.format(t,{id:e.getId(),"class":e.getClass(),content:n})},render:function(e){var t=this;e&&!t.getMain()&&(i.array.each(t._dataList,function(){t._itemIds.push(i.lang.guid())}),i.dom.insertHTML(t.renderMain(e),"beforeEnd",t.getString()),t._renderItems(),t._resizeView(),t._moveToMiddle(),t.focus(t.scrollIndex),t.addEventListener("onbeforeendscroll",function(e){var n="horizontal"==t.orientation,i=t._axis[t.orientation],o=t.getScrollContainer();t._renderItems(e.index,e.scrollOffset),o.style[i.size]=parseInt(o.style[i.size])-t["_bound"+(n?"X":"Y")].offset*e.scrollUnit+"px",t._moveToMiddle(),t._scrolling=!1}),t.dispatchEvent("onload"))},_renderItems:function(e,t){for(var n,o=this,s=o.getScrollContainer(),e=Math.min(Math.max(0|e,0),o._dataList.length-1),t=Math.min(Math.max(0|t,0),o.pageSize-1),r=o.pageSize,a=0;s.firstChild;)i.dom.remove(s.firstChild);for(;r>a;a++)n=o._getItemElement(e-t+a),s.appendChild(n.element),n.setContent()},_moveToMiddle:function(){if(this._boundX){var e=this,t=e._axis[e.orientation];e.getBody()[t.scrollPos]="horizontal"==e.orientation&&6==i.browser.ie?e._boundX.marginX:0}},_resizeView:function(){function e(e,t){var t="x"==t,n=e[t?"offsetWidth":"offsetHeight"],o=parseInt(i.dom.getStyle(e,t?"marginLeft":"marginTop")),s=parseInt(i.dom.getStyle(e,t?"marginRight":"marginBottom"));return isNaN(o)&&(o=0),isNaN(s)&&(s=0),{offset:n+(r?o+s:Math.max(o,s)),marginX:o,marginY:s}}if(!(this._dataList.length<=0)){var t,n,o=this,s=o._axis[o.orientation],r="horizontal"==o.orientation,a=o.getScrollContainer(),l=i.dom.children(a);o._boundX=t=e(l[0],"x"),o._boundY=n=e(l[0],"y"),a.style.width=t.offset*(r?l.length:1)+(6==i.browser.ie?t.marginX:0)+"px",a.style.height=n.offset*(r?1:l.length)+(r?0:n.marginX)+"px",o.getBody().style[s.size]=o[s.vector].offset*o.pageSize+(r?0:Math.min(o[s.vector].marginX,o[s.vector].marginY))+"px"}},_baseItemElement:function(e){var t,n=this,o=n._itemIds[e],s=n._items[o]||{},r=n._dataList[e];return s.element||(s.element=t=i.dom.create("div",{id:o||"","class":n.getClass("item")}),!o&&i.dom.addClass(t,n.getClass("item-empty")),s.content=r?r.content:"",o&&(s.handler=[{evtName:"click",handler:i.fn.bind("_onItemClickHandler",n,t)},{evtName:"mouseover",handler:i.fn.bind("_onMouseHandler",n,"mouseover")},{evtName:"mouseout",handler:i.fn.bind("_onMouseHandler",n,"mouseout")}],i.array.each(s.handler,function(e){n.on(t,e.evtName,e.handler)}),n._items[o]=s),s.setContent=function(){this.content&&(this.element.innerHTML=this.content),this.content&&delete this.content}),s},_getItemElement:function(e){return this._baseItemElement(e)},_onItemClickHandler:function(e){var t=this;t.focus(i.array.indexOf(t._itemIds,e.id)),t.dispatchEvent("onitemclick")},_onMouseHandler:function(e){this.dispatchEvent("on"+e)},getCurrentIndex:function(){return this.scrollIndex},getTotalCount:function(){return this._dataList.length},getItem:function(e){return i.dom.g(this._itemIds[e])},scrollTo:function(e,t,n){var o,s,r,a,l=this,d=l._axis[l.orientation],t=Math.min(Math.max(0|t,0),l.pageSize-1),c=l.getScrollContainer(),f=i.dom.children(c),m=l.getItem(e),g=n,h=i.array.indexOf(f,m)-t,u=Math.abs(h),p=l._dataList.length,_=0;if(!(m&&0==h||l._dataList.length<=0||0>e||e>l._dataList.length-1||l._scrolling)){for(g||(g=m?0>h?"prev":h>0?"next":"keep":i.array.indexOf(l._itemIds,i.array.find(f,function(e){return!!e.id}).id)>e?"prev":"next"),r="prev"==g,m||(s=i.array.indexOf(l._itemIds,f[r?0:f.length-1].id),u=Math.abs(t-(r?0:l.pageSize-1))+((r?s:e)+p-(r?e:s))%p,u>l.pageSize&&(u=l.pageSize)),o=u>0&&document.createDocumentFragment();u>_;_++)a=l._getItemElement(r?e-t+_:l.pageSize+e+_-(m&&!n?i.array.indexOf(f,m):t+u)),o.appendChild(a.element),a.setContent();r?c.insertBefore(o,f[0]):c.appendChild(o),h=l[d.vector].offset*u,c.style[d.size]=parseInt(c.style[d.size])+h+"px",r&&(l.getBody()[d.scrollPos]+=h),l._scrolling=!0,l.dispatchEvent("onbeforescroll",{index:e,scrollOffset:t,direction:g,scrollUnit:u})&&(l.getBody()[d.scrollPos]+=u*l[d.vector].offset*(r?-1:1),l.dispatchEvent("onbeforeendscroll",{index:e,scrollOffset:t,direction:g,scrollUnit:u}),l.dispatchEvent("onafterscroll",{index:e,scrollOffset:t,direction:g,scrollUnit:u}))}},_getFlipIndex:function(e){var t=this,n="item"==t.flip,e="prev"==e,o=t.scrollIndex,s=o+(n?1:t.pageSize)*(e?-1:1),r=n?e?0:t.pageSize-1:i.array.indexOf(i.dom.children(t.getScrollContainer()),t.getItem(o));return!n&&(0>s||s>t._dataList.length-1)&&(s=o-r+(e?-1:t.pageSize),r=e?t.pageSize-1:0),{index:s,scrollOffset:r}},_baseSlide:function(e){function t(e,t,i){n.addEventListener("onbeforeendscroll",function(e){var t=e.target;t.focus(e.index),t.removeEventListener("onbeforeendscroll",arguments.callee)}),n.scrollTo(e,t,i)}if(this.getItem(this.scrollIndex)){var n=this,i=(n.getScrollContainer(),n._getFlipIndex(e));i.index<0||i.index>n._dataList.length-1||("item"==n.flip?n.getItem(i.index)?n.focus(i.index):t(i.index,i.scrollOffset,e):n._itemIds[i.index]&&t(i.index,i.scrollOffset,e))}},prev:function(){var e=this;e._baseSlide("prev"),e.dispatchEvent("onprev")},next:function(){var e=this;e._baseSlide("next"),e.dispatchEvent("onnext")},isFirst:function(){var e=this._getFlipIndex("prev");return e.index<0},isLast:function(){var e=this._getFlipIndex("next");return e.index>=this._dataList.length},_blur:function(){var e=this,t=e._itemIds[e.scrollIndex];t&&(i.dom.removeClass(e._baseItemElement(e.scrollIndex).element,e.getClass("item-focus")),e.scrollIndex=-1)},focus:function(e){var t=this,n=t._itemIds[e],o=n&&t._baseItemElement(e);n&&(t._blur(),i.dom.addClass(o.element,t.getClass("item-focus")),t.scrollIndex=e,t.dispatchEvent("onfocus",{index:e}))},getScrollContainer:function(){return i.dom.g(this.getId("scroll"))},dispose:function(){var e=this;e.dispatchEvent("ondispose"),i.dom.remove(e.getMain()),i.lang.Class.prototype.dispose.call(e)}}),n.exports=i.ui.Carousel});
;define("common:widget/lib/tangram/ui/Carousel/cycle/cycle.js",function(e,t,i){var n=e("common:widget/lib/tangram/base/base.js");e("common:widget/lib/tangram/uiBase/uiBase.js"),e("common:widget/lib/tangram/ui/Carousel/Carousel.js"),n.ui.Carousel.register(function(e){e.isCycle&&(e._itemsPool={},e._getItemElement=function(e){var t=this,i=t._dataList.length,e=(e+i)%i,o=t._itemIds[e],s=n.dom.g(o)?t._itemsPool[o+"-buff"]:t._baseItemElement(e);return s||(s=t._itemsPool[o+"-buff"]={element:n.dom.create("div",{id:o+"-buff","class":t.getClass("item")}),content:t._dataList[e].content,setContent:function(){this.content&&(this.element.innerHTML=this.content),this.content&&delete this.content}}),s},e._getFlipIndex=function(e){var t=this,i="item"==t.flip,e="prev"==e,o=t.scrollIndex,s=o+(i?1:t.pageSize)*(e?-1:1),l=i?e?0:t.pageSize-1:n.array.indexOf(n.dom.children(t.getScrollContainer()),t.getItem(o)),a=t._dataList.length;return{index:(s+a)%a,scrollOffset:l}},e.addEventListener("onremoveitem",function(e){delete this._itemsPool[e.id+"-buff"]}))}),n.ui.Carousel.prototype.isCycle=!0,i.exports=n.ui.Carousel.cycle});
;define("common:widget/lib/tangram/ui/Carousel/fx/fx.js",function(o,e,r){var t=o("common:widget/lib/tangram/base/base.js");o("common:widget/lib/tangram/uiBase/uiBase.js"),o("common:widget/lib/tangram/ui/Carousel/Carousel.js"),o("common:widget/lib/tangram/fx/scrollTo/scrollTo.js"),o("common:widget/lib/tangram/fx/current/current.js"),t.ui.Carousel.register(function(o){o.enableFx&&o.addEventListener("onbeforescroll",function(e){if(!t.fx.current(o.getBody())){var r="prev"==e.direction,l=o._axis[o.orientation],n="horizontal"==o.orientation,i=o.getBody()[l.scrollPos]+e.scrollUnit*o[l.vector].offset*(r?-1:1);o.scrollFxOptions=t.object.extend(o.scrollFxOptions,{carousel:o,index:e.index,scrollOffset:e.scrollOffset,direction:e.direction,scrollUnit:e.scrollUnit}),t.lang.isFunction(o.scrollFx)&&o.scrollFx(o.getBody(),{x:n?i:0,y:n?0:i},o.scrollFxOptions),e.returnValue=!1}})}),t.ui.Carousel.extend({enableFx:!0,scrollFx:t.fx.scrollTo,scrollFxOptions:{duration:500,onbeforestart:function(o){var e=o.target;o.target.carousel.dispatchEvent("onbeforestartscroll",{index:e.index,scrollOffset:e.scrollOffset,direction:e.direction,scrollUnit:e.scrollUnit})},onafterfinish:function(o){var e=o.target;e.carousel.dispatchEvent("onbeforeendscroll",{index:e.index,scrollOffset:e.scrollOffset,direction:e.direction,scrollUnit:e.scrollUnit}),e.carousel.dispatchEvent("onafterscroll",{index:e.index,scrollOffset:e.scrollOffset,direction:e.direction,scrollUnit:e.scrollUnit})}}}),r.exports=t.ui.Carousel.fx});
;define("common:widget/ui/image-lazy-loader/base.js",function(t,o,e){var i=t("common:widget/lib/tangram/base/base.js"),n=document,a="defalut",r={diff:300,isValidContainer:function(t){return 9!=t.nodeType},inDocument:function(t){return i.dom.contains(n.body,t)},isCross:function(t,o){var e={};return e.top=Math.max(parseFloat(t.top),parseFloat(o.top)),e.bottom=Math.min(parseFloat(t.bottom),parseFloat(o.bottom)),e.left=Math.max(parseFloat(t.left),parseFloat(o.left)),e.right=Math.min(parseFloat(t.right),parseFloat(o.right)),e.bottom>=e.top&&e.right>=e.left},isWindow:function(t){return!!t.window&&t.window===t.window.window},_getBoundingRect:function(t){var o,e,n,r,s=this;if(void 0===t||s.isWindow(t)||9==t.nodeType)o=i.page.getViewHeight(),e=i.page.getViewWidth(),n=i.page.getScrollLeft(),r=i.page.getScrollTop();else{o=t.offsetHeight,e=t.offsetWidth;var f=i.dom.getPosition(t);n=f.left,r=f.top}var g=this.diff,l=g===a?e:g,d=0,p=l,m=g===a?o:g,h=0,u=m,c=n+e,w=r+o;return"object"==typeof g&&(d=g.left||0,p=g.right||0,h=g.top||0,u=g.bottom||0),n-=d,c+=p,r-=h,w+=u,{left:n,top:r,right:c,bottom:w}},_checkElemInViewport:function(t){var o,e,n=this,a=i.dom.getPosition(t),r=!0,s=null,f=n._getBoundingRect(),g=a.left,l=a.top,d={left:g,top:l,right:g+t.offsetWidth,bottom:l+t.offsetHeight};return s&&(e=n._getBoundingRect(s),r=n.isCross(e,d)),o=n.isCross(f,d),r&&o}};e.exports=r});
;define("common:widget/lib/tangram/ui/Carousel/autoScroll/autoScroll.js",function(o,t,e){var r=o("common:widget/lib/tangram/base/base.js");o("common:widget/lib/tangram/uiBase/uiBase.js"),o("common:widget/lib/tangram/ui/Carousel/Carousel.js"),o("common:widget/lib/tangram/ui/Carousel/cycle/cycle.js"),r.ui.Carousel.register(function(o){if(o.isAutoScroll){var t=o._getAutoScrollDirection();o.addEventListeners("onprev,onnext",function(){clearTimeout(o._autoScrollTimeout),o._autoScrollTimeout=setTimeout(function(){o._autoScrolling&&(o[t](),o.dispatchEvent("onautoscroll",{direction:t}))},o.scrollInterval)}),o.addEventListener("onload",function(o){var t=o.target;setTimeout(function(){t.startAutoScroll()},t.scrollInterval)}),o.addEventListener("ondispose",function(o){clearTimeout(o.target._autoScrollTimeout)})}}),r.ui.Carousel.extend({isAutoScroll:!0,scrollInterval:1e3,direction:"right",_autoScrolling:!0,_getAutoScrollDirection:function(){var o=this,t={up:"prev",right:"next",down:"next",left:"prev"};return t[o.direction.toLowerCase()]||t["horizontal"==o.orientation?"right":"down"]},startAutoScroll:function(){var o=this,t=o._getAutoScrollDirection();o._autoScrolling=!0,o[t](),o.dispatchEvent("onautoscroll",{direction:t})},stopAutoScroll:function(){var o=this;clearTimeout(o._autoScrollTimeout),o._autoScrolling=!1}}),e.exports=r.ui.Carousel.autoScroll});